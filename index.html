<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Talking Characters Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
  }
  .character {
    position: relative;
    width: 200px;  /* half of combined image width */
    height: 300px; /* combined image height */
    background-image: url('https://raw.githubusercontent.com/sandeep05-git/animated-video.html/main/ChatGPT%20Image%20May%2024%2C%202025%2C%2012_50_11%20PM.png');
    background-size: 400px 300px; /* full combined image size */
    background-repeat: no-repeat;
    display: inline-block;
    margin-right: 40px;
    border: 1px solid #ccc;
    border-radius: 8px;
  }

  #male {
    background-position: 0 0; /* show left half */
  }

  #female {
    background-position: -200px 0; /* show right half */
  }

  /* Mouth overlay */
  .mouth {
    position: absolute;
    bottom: 50px;  /* adjust mouth vertical position */
    left: 50px;    /* adjust mouth horizontal position */
    width: 100px;
    height: 50px;
    background-size: contain;
    background-repeat: no-repeat;
    background-image: url('https://i.imgur.com/0T4Xq4U.png'); /* mouth closed */
  }
</style>
</head>
<body>

<h2>Talking Characters Demo</h2>

<textarea id="scriptBox" rows="3" cols="60" placeholder="Type your script here...">Hello, this is the seller support tutorial!</textarea><br><br>

<button onclick="startTalking('male')">Male Talk</button>
<button onclick="startTalking('female')">Female Talk</button>

<div>
  <div id="male" class="character">
    <div class="mouth" id="male-mouth"></div>
  </div>
  <div id="female" class="character">
    <div class="mouth" id="female-mouth"></div>
  </div>
</div>

<script>
  // Mouth images URLs (open and closed)
  const mouthFrames = {
    male: [
      'https://i.imgur.com/0T4Xq4U.png', // mouth closed
      'https://i.imgur.com/IyW9k2D.png'  // mouth open
    ],
    female: [
      'https://i.imgur.com/0T4Xq4U.png', // mouth closed
      'https://i.imgur.com/IyW9k2D.png'  // mouth open
    ]
  };

  let talkingInterval;

  function animateMouth(character) {
    const mouth = document.getElementById(character + '-mouth');
    let index = 0;
    talkingInterval = setInterval(() => {
      mouth.style.backgroundImage = `url('${mouthFrames[character][index]}')`;
      index = (index + 1) % mouthFrames[character].length;
    }, 200);
  }

  function stopMouthAnimation(character) {
    clearInterval(talkingInterval);
    const mouth = document.getElementById(character + '-mouth');
    mouth.style.backgroundImage = `url('${mouthFrames[character][0]}')`;
  }

  function startTalking(character) {
    const script = document.getElementById('scriptBox').value.trim();
    if (!script) {
      alert('Please enter a script!');
      return;
    }

    animateMouth(character);

    const utterance = new SpeechSynthesisUtterance(script);
    utterance.lang = 'en-US'; // You can change this if needed

    utterance.onend = () => {
      stopMouthAnimation(character);
    };

    speechSynthesis.speak(utterance);
  }
</script>

</body>
</html>
